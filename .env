# ============================================================================
# AI VOICE ORDERING SYSTEM - ENVIRONMENT CONFIGURATION
# ============================================================================
# Enterprise Production Template v2.0
# Last Updated: 2026-01-21
#
# INSTRUCTIONS:
# 1. Copy this file to .env
# 2. Fill in all required values marked with <REQUIRED>
# 3. Optional values can be left as defaults
# 4. Never commit .env to version control!
# ============================================================================

# ============================================================================
# TWILIO (Voice/SMS) - REQUIRED
# ============================================================================
TWILIO_ACCOUNT_SID=<REQUIRED>
TWILIO_AUTH_TOKEN=<REQUIRED>
TWILIO_PHONE_NUMBER=<REQUIRED>              # Format: +1234567890
TWILIO_TRANSFER_NUMBER=                     # Optional: Human transfer

# ============================================================================
# OPENAI GPT CONFIGURATION (AI) - REQUIRED
# ============================================================================
# Required for conversation AI (GPT-4o-mini)
OPENAI_API_KEY=<REQUIRED>                       # Your OpenAI API key
LLM_MODEL=gpt-4o-mini                           # Model: gpt-4o-mini (recommended)
LLM_MAX_TOKENS=1024                             # Max response tokens
LLM_TEMPERATURE=0.7                             # Creativity (0.0-1.0)

# ============================================================================
# GOOGLE CLOUD (Speech/Translation) - REQUIRED
# ============================================================================
GOOGLE_APPLICATION_CREDENTIALS=./google-creds.json
GOOGLE_CLOUD_PROJECT=                       # Optional

# ============================================================================
# SUPABASE (Database) - REQUIRED
# ============================================================================
SUPABASE_URL=<REQUIRED>
SUPABASE_KEY=<REQUIRED>

# ============================================================================
# APPLICATION
# ============================================================================
APP_NAME=AI Voice Ordering
APP_VERSION=2.0.0
ENVIRONMENT=production
DEBUG=false
HOST=0.0.0.0
PORT=8000

# ============================================================================
# AUDIO
# ============================================================================
AUDIO_SAMPLE_RATE=16000
AUDIO_ENCODING=LINEAR16
SPEAKING_RATE=1.0
PITCH=0.0
VOLUME_GAIN_DB=0.0

# ============================================================================
# VOICES
# ============================================================================
VOICE_EN_NAME=en-US-Neural2-F
VOICE_AR_NAME=ar-XA-Standard-A
VOICE_ES_NAME=es-ES-Neural2-A

# ============================================================================
# LANGUAGES
# ============================================================================
SUPPORTED_LANGUAGES=en,ar,es
DEFAULT_LANGUAGE=en

# ============================================================================
# TIMEOUTS
# ============================================================================
MAX_CALL_DURATION=900
MAX_SILENCE_DURATION=30
TRANSLATION_TIMEOUT=3.0
STT_SILENCE_TIMEOUT=3.0
STT_STREAM_TIMEOUT=305.0

# ============================================================================
# RETRY & RESILIENCE
# ============================================================================
MAX_RETRIES_DB=3
MAX_RETRIES_SMS=3
MAX_RETRIES_TRANSLATION=2
RETRY_DELAY_SECONDS=1.0
CIRCUIT_BREAKER_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=30

# ============================================================================
# QUEUE & CONCURRENCY
# ============================================================================
MAX_SMS_QUEUE_SIZE=500
MAX_WRITE_QUEUE_SIZE=1000
BATCH_WRITE_SIZE=10
BATCH_WRITE_INTERVAL=2.0
SMS_PROCESSING_INTERVAL=1.0
MAX_CONCURRENT_CALLS=50
MAX_CONCURRENT_SYNTHESIS=10
MAX_CONCURRENT_TRANSLATIONS=20

# ============================================================================
# CACHE
# ============================================================================
TRANSLATION_CACHE_TTL=3600
TRANSLATION_CACHE_SIZE=500
MENU_CACHE_TTL=300
MENU_CACHE_SIZE=100

# ============================================================================
# CONVERSATION LIMITS
# ============================================================================
MAX_CONVERSATION_TURNS=200
MAX_TURNS_PER_CALL=100
MAX_AI_ERRORS=3
MAX_UPSELLS_PER_CALL=3

# ============================================================================
# HEALTH CHECKS
# ============================================================================
HEALTH_CHECK_INTERVAL=10

# ============================================================================
# FEATURE FLAGS
# ============================================================================
FEATURE_STREAMING_STT=true
FEATURE_STREAMING_TTS=true
FEATURE_BARGE_IN=true
FEATURE_CALL_TRANSFER=true
FEATURE_UPSELL_SUGGESTIONS=true
FEATURE_SMS_CONFIRMATIONS=true
FEATURE_MULTILINGUAL=true
FEATURE_MEMORY=true
FEATURE_CALL_RECORDING=false
FEATURE_ANALYTICS=true

# ============================================================================
# MONITORING (Optional)
# ============================================================================
PROMETHEUS_PORT=9090
LOG_LEVEL=INFO
STRUCTURED_LOGGING=true

# ============================================================================
# COST ESTIMATES (Monthly with GPT-4o-mini):
# ============================================================================
# 1,000 calls/month:  ~$133-150
# 10,000 calls/month: ~$1,330-1,500
# 
# Breakdown:
# - GPT-4o-mini: $6-8 (96% cheaper than Claude!)
# - Google Speech: $120-150
# - Twilio Voice: $44-58
# - SMS: $8-10
# 
# SAVINGS vs Claude Sonnet: 53% cheaper per call!
# ============================================================================
