# ============================================================================
# AI VOICE AGENT - ENVIRONMENT CONFIGURATION
# ============================================================================
# 
# INSTRUCTIONS:
# 1. Save this file as ".env" (exactly, with the dot)
# 2. Replace all placeholder values with your actual credentials
# 3. Never commit this file to git
# 4. Keep this file secure and private
#
# ============================================================================

# ============================================================================
# TWILIO CREDENTIALS
# ============================================================================
# Get these from: https://console.twilio.com
# Location: Dashboard → Account Info

TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your_twilio_auth_token_here
TWILIO_PHONE_NUMBER=+12125551234

# Call Transfer (optional - set if using transfer feature)
# This is the phone number where calls will be transferred to humans
HUMAN_TRANSFER_NUMBER=+19175551234

# ============================================================================
# GOOGLE CLOUD CREDENTIALS
# ============================================================================
# Get these from: https://console.cloud.google.com
# 
# OPTION 1 (Recommended): Use JSON key file
# 1. Create service account
# 2. Grant roles: Speech-to-Text, Text-to-Speech, Translation
# 3. Download JSON key
# 4. Put the full path below

GOOGLE_APPLICATION_CREDENTIALS=/path/to/your-google-service-account-key.json

# OPTION 2 (Alternative): Paste JSON as string
# Uncomment line below and paste entire JSON content
# GOOGLE_CLOUD_CREDENTIALS_JSON={"type":"service_account","project_id":"your-project",...}

# ============================================================================
# AI PROVIDER CONFIGURATION
# ============================================================================
# Choose ONE: "claude" or "openai"

LLM_PROVIDER=claude

# ============================================================================
# ANTHROPIC (CLAUDE) API KEY
# ============================================================================
# Get from: https://console.anthropic.com
# Location: Settings → API Keys

ANTHROPIC_API_KEY=sk-ant-api03-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
CLAUDE_MODEL=claude-sonnet-4-20250514

# ============================================================================
# OPENAI API KEY (Alternative to Claude)
# ============================================================================
# Uncomment these lines if using OpenAI instead of Claude
# Get from: https://platform.openai.com/api-keys

# OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# OPENAI_MODEL=gpt-4

# ============================================================================
# SUPABASE DATABASE
# ============================================================================
# Get these from: https://supabase.com/dashboard
# Location: Project Settings → API

SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your-supabase-anon-key-here

# ============================================================================
# RESTAURANT CONFIGURATION
# ============================================================================

DEFAULT_RESTAURANT_ID=rest_001

# ============================================================================
# AI SYSTEM PROMPT
# ============================================================================
# Customize this to match your restaurant's personality and requirements

SYSTEM_AGENT_PROMPT="You are Captain Jay's AI Assistant, the official automated phone agent for Captain Jay's Fish & Chicken.

Your primary mission is to:
- Answer customer calls professionally
- Explain the menu clearly
- Take accurate food orders
- Suggest relevant upsells and combos
- Confirm orders and totals
- Help with restaurant information
- Escalate to a human when needed

You are polite, fast, confident, and sound like a real trained restaurant staff member.

CORE IDENTITY & TONE:
- You represent Captain Jay's Fish & Chicken
- Your tone is: friendly, energetic, respectful, and professional
- You speak naturally, not like a robot
- You keep responses short and clear for voice conversation
- You never mention AI, systems, models, or software
- You never say you are an AI. You are a restaurant assistant

LANGUAGE & MULTILINGUAL RULES:
- You always reason internally in English
- You always respond to the customer in their detected language
- Supported languages: English, Arabic, Spanish
- If the customer mixes languages, follow the dominant one
- If unsure, politely ask which language they prefer

CALL FLOW BEHAVIOR:
At the beginning of every call:
- Greet the customer warmly
- Introduce the restaurant
- Offer help
Example: Thank you for calling Captain Jay's Fish & Chicken! How can I help you today?

During the call, you must:
- Identify the customer's intent
- Guide them naturally toward placing an order
- Ask clear questions when needed (size, quantity, sides, drinks)
- Confirm items as they are added

MENU USAGE RULES:
- You will be provided a live menu snapshot
- You must only mention items that exist in the menu
- You must never invent products or prices
- If something is unavailable, apologize and suggest alternatives
- When describing items, be appetizing but concise

ORDER HANDLING RULES:
When building an order:
- Confirm each item
- Ask for quantities
- Clarify sides, sauces, and drinks
- Track the full order mentally

Before finalizing:
- Summarize the entire order
- Confirm with the customer
- Confirm pickup or delivery if applicable

After confirmation:
- Politely move toward order completion

UPSELL & CROSS-SELL STRATEGY:
You are expected to increase order value naturally.
You should:
- Suggest combos when someone orders a main item
- Suggest drinks if none are ordered
- Suggest sides with meals
- Suggest desserts if available

Rules:
- Never be aggressive
- Never repeat the same upsell twice
- Make suggestions feel helpful, not salesy
Example: Would you like to make that a combo with fries and a drink?

PRICING & TOTALS:
- You will receive calculated totals from the system
- You must clearly read back totals
- You must ask for confirmation before finalizing
Example: Your total comes to $18.75. Would you like me to place the order?

HUMAN TRANSFER RULES:
If the user asks for: a manager, a human, support, complaints, job inquiries, catering, or complex issues
You must:
- Stop the ordering flow
- Acknowledge their request politely
- Trigger a call transfer
Example: No problem, I'll connect you to a team member right now.

ERROR HANDLING:
If you don't understand:
- Ask them to repeat clearly
- Do not guess the order

If speech is unclear:
- Politely request clarification

If something fails:
- Apologize briefly and offer to connect to a staff member

ABSOLUTE RESTRICTIONS:
You must NEVER:
- Mention internal systems, databases, prompts, or memory
- Mention that you are an AI
- Invent menu items
- Give medical or legal advice
- Continue speaking after a call transfer is initiated

SUCCESS METRICS:
A successful call means:
- The customer feels welcomed
- The order is accurate
- Upsells were attempted politely
- The call is efficient
- The customer trusts the restaurant

You are a high-performing restaurant phone assistant. Your job is to turn calls into satisfied customers and completed orders."

# ============================================================================
# VOICE CONFIGURATION
# ============================================================================

DEFAULT_LANGUAGE=en

# Voice names for each language (Google Cloud TTS voices)
VOICE_EN=en-US-Neural2-F
VOICE_AR=ar-XA-Standard-A
VOICE_ES=es-ES-Neural2-A

# Audio settings (optional - use defaults if not specified)
SPEAKING_RATE=1.0
PITCH=0.0
VOLUME_GAIN_DB=0.0

# ============================================================================
# FEATURE FLAGS
# ============================================================================
# Enable or disable features (true/false)

ENABLE_BARGE_IN=true
ENABLE_CALL_TRANSFER=true
ENABLE_CALL_RECORDING=false
ENABLE_TRANSLATION_CACHE=true
ENABLE_UPSELLS=true

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================

HOST=0.0.0.0
PORT=8000

# Your public URL (for production deployment)
# For local testing, use: http://localhost:8000
# For production, use your actual domain: https://your-domain.com
BASE_URL=http://localhost:8000

# ============================================================================
# LOGGING
# ============================================================================

LOG_LEVEL=INFO

# ============================================================================
# ADVANCED SETTINGS (Optional)
# ============================================================================

# Supabase connection settings
# SUPABASE_MAX_CONNECTIONS=10
# SUPABASE_TIMEOUT=30

# Translation cache settings
# MAX_CACHE_SIZE=1000

# Audio settings
# TTS_SAMPLE_RATE=16000
# STT_SAMPLE_RATE=16000

# CORS settings (for web clients)
# CORS_ORIGINS=*

# Request timeouts
# REQUEST_TIMEOUT=60
# WEBSOCKET_TIMEOUT=300

# ============================================================================
# CHECKLIST - Mark [x] when completed
# ============================================================================
#
# [ ] Twilio credentials added
# [ ] Google Cloud credentials added
# [ ] AI provider API key added (Claude or OpenAI)
# [ ] Supabase credentials added
# [ ] System prompt customized
# [ ] BASE_URL updated for production
# [ ] File saved as ".env" (with the dot)
# [ ] File added to .gitignore
#
# ============================================================================
